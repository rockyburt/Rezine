================================
Contribute to the TextPress Core
================================

If you want to contribute changes directly in the TextPress core code or some
of the builtin codes you should create your own TextPress branch and attach
bundles of your changes to a `new ticket`_.

If you have not worked with mercurial so far this page covers some of the
very basics.  If you feel lost you can read the `hg book`_ which gives a good
introduction into mercurial.

If you are confused: hg == mercurial.


.. _new ticket: http://dev.pocoo.org/projects/textpress-main/newticket
.. _hg book: http://hgbook.red-bean.com/


Creating A Branch
=================

To check out the latest TextPress codebase, use this clone command::

    hg clone http://dev.pocoo.org/hg/textpress-main textpress-FEATURENAME

instead of `FEATURENAME` use a small description for the change you want to
do in this branch.  For example if you want to add support for trackback
call the branch `textpress-trackback`.  Also very important: before you start
working on something on the code, announce your work on ``#pocoo`` on
irc.freenode.net, so that we can discuss some things before you start working
on it.


Working on the Branch
=====================

Now that you have a branch you can change files, add files, remove files and
do whatever you want to do.  If you add a file you have to tell mercurial that
it should track this file using the following command::

    hg add <filename>

If you want to remove it use this command::

    hg rm <filename>

To commit your changes use this command::

    hg ci

This will open an editor, ask you for a change note and track the changes as
changeset.  This does **not** send the changes to our central repository!


Pulling Changes from Upstream
=============================

Once a day you should get the changes from the main TextPress repository.  You
can use the following command to pull from the central repository::

    hg pull -u

Sometimes it could ask you to merge the changes.  In this case use these
commands::

    hg merge
    hg ci -m merged


Bundeling the Changes
=====================

Once you have reached a stable version you want to share with us you can use
the `bundle` command to create a bundle for the tracker::

    hg bundle FEATURENAME.hg

You can then attach the bundle to a new ticket together with a short summary
of the changes.
