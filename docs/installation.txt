======================
TextPress Installation
======================

Currently there are two distributions of TextPress.  The regular distribution
and the quickstart distribution.  This document currently covers only the
regular distribution.

The regular distribution is packaged like any other Python library.  That
means you can install it system wide and create multiple "instances" of it
and upgrade them in one go.  The python package also pulls automatically all
dependency modules on installation.  However it also requires that you have
shell access to your server.  But don't worry, the installation is very easy.


Installing TextPress
====================

To install the TextPress sourcecode all you have to do is to download
`ez_setup.py <#missing_link>`_ and execute it with the following shell command::

    sudo python ez_setup.py TextPress

If you are on a windows computer omit the "sudo".

`ez_setup` will automatically download and install TextPress and all the
dependency modules to your computer.  If you are on a shared host and you
don't have administrator rights you can specify a prefix with the ``--prefix``
argument.


Creating an Instance
====================

Now that you have TextPress installed it's time to create an instance of it.
The idea is that you have the source code and the data in different locations.
This makes it possible to easily upgrade TextPress without losing your
plugins, themes or posts.

All you have to do is to create a new empty folder where all the data will
be stored in.


Connecting TextPress to the Webserver
=====================================

Now it's time to tell the Webserver where we want TextPress to appear.  This
is now the hardest task because it depends on the Webserver how this happens.
This tutorial assumes that you have root access to your server, and that you
are using Apache with `mod_wsgi`.  If you do not, don't worry: we will
document other setups soon.

Create an empty file in your instance folder called `textpress.wsgi` with
the following contents::

    from os.path import dirname, realpath
    from textpress import make_app
    application = make_app(realpath(dirname(__file__)))

Save it and open your apache configuration for the virtual host you want to
use.  Add the following lines::

    WSGIScriptAlias /textpress /path/to/textpress.wsgi

The first part specifies the location of TextPress on the virtual host, the
second is the path to the file you have created in the previous step.  If
you want TextPress to be mounted in the URL root of the virtual host add
this line::

    WSGIScriptAlias / /path/to/textpress.wsgi

Now reload your application and visit the virtual host.  A web setup should
ask you a few questions (like the path to the database or your administrator
account) and create the database tables for you.  After that you can log
into the blog administration and configure it.
