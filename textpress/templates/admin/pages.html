{% extends "admin/layout.html" %}
{% block title %}{{ _("Pages") }}{% endblock %}
{% block contents %}
  <h2>{{ _("Pages") }}</h2>
  <table>
    <tr>
      <th>{{ _("ID") }}</th>
      <th style="width: 20%;">{{ _("Key") }}</th>
      <th style="width: 50%;">{{ _("Title") }}</th>
      <th>{{ _("Navigation Position") }}</th>
    </tr>
    {% for page in pages %}
    <tr class="pages_row">
      <td>{{ page.page_id }}</td>
      <td style="width: 20%;"><a href="{{ url_for(page) }}">{{ page.key }}</a></td>
      <td style="width: 50%;">
        <a href="{{ url_for('admin/write_page', page_id=page.page_id) }}">{{ page.title }}</a>
      </td>
      <td>{% if page.navigation_pos %}{{ page.navigation_pos }}{% else %}{% trans %}No position given{% endtrans %}{% endif %}</td>
    </tr>
    {% endfor %}
  </table>
  {% if not pages %}
  <p style="text-align:center;"><strong>
    {% trans url=url_for('admin/write_page') %}
      No pages created yet. <a href="{{ url }}">Create</a> your first!
    {% endtrans %}
  </strong></p>
  {% endif %}
  <form action="{{ url_for('admin/write_page')|e }}" method="get">
    <div class="actions">
      <input type="submit" value="{{ _('New Page') }}">
    </div>
  </form>
{% endblock %}
